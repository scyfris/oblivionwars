[gd_scene format=4 uid="uid://btfs5ho75a210"]

[ext_resource type="Script" uid="uid://cwlykqiqaim33" path="res://Scripts/Level/LevelRoot.cs" id="1_8236u"]
[ext_resource type="Script" uid="uid://c1cu0sgl231ao" path="res://Scripts/Player/CharacterController.cs" id="1_o3cl4"]
[ext_resource type="Resource" uid="uid://baf1aaw72tsob" path="res://Resources/Data/Levels/TestLevel.tres" id="2_gkceq"]
[ext_resource type="PackedScene" uid="uid://cb4iahq5chr65" path="res://Scenes/Characters/PlayerCharacterBody2D.tscn" id="2_jxtak"]
[ext_resource type="Script" uid="uid://c48xrdqe5s1qc" path="res://Scripts/Interaction/Checkpoint.cs" id="3_gkceq"]
[ext_resource type="PackedScene" uid="uid://ceq74t0uxq1ed" path="res://Scenes/UI/crosshair.tscn" id="3_jxtak"]
[ext_resource type="Script" uid="uid://b2dl33mekocnv" path="res://Scripts/Camera/CameraController.cs" id="4_camera"]
[ext_resource type="TileSet" uid="uid://bcshhvut4q14s" path="res://Resources/Tilemaps/kenney_abstract-platformer/Godot/KenneyAbstract-Half.tres" id="4_sx5r3"]
[ext_resource type="Resource" uid="uid://dmos2n3cg3lsa" path="res://Resources/Data/Camera/default_camera.tres" id="7_am6fp"]
[ext_resource type="PackedScene" uid="uid://cygwcj2tkmvgn" path="res://Scenes/Characters/TargetDummy.tscn" id="7_sx5r3"]
[ext_resource type="Script" uid="uid://chfm8yp5xogig" path="res://Scripts/Camera/CameraZone.cs" id="8_rkygg"]
[ext_resource type="Script" uid="uid://dk1c314isfc8c" path="res://Scripts/UI/GameHUD.cs" id="10_7woyo"]
[ext_resource type="Script" uid="uid://nkvcatgkdcfr" path="res://Scripts/UI/SaveIndicator.cs" id="13_yce48"]
[ext_resource type="Resource" uid="uid://cmq8e4k64txg7" path="res://Resources/Data/Camera/zone_constraint.tres" id="15_cam02"]

[sub_resource type="CircleShape2D" id="CircleShape2D_8236u"]
radius = 74.87

[sub_resource type="RectangleShape2D" id="RectangleShape2D_yi6kr"]
size = Vector2(1624, 514)

[node name="TestLevel" type="Node" unique_id=1782204942]
script = ExtResource("1_8236u")
_levelDefinition = ExtResource("2_gkceq")

[node name="Node2D" type="Node2D" parent="." unique_id=964729338]

[node name="Control" type="Control" parent="Node2D" unique_id=20977016]
layout_mode = 3
anchors_preset = 0
offset_right = 40.0
offset_bottom = 40.0

[node name="Checkpoint_0" type="Area2D" parent="Node2D/Control" unique_id=757024367 node_paths=PackedStringArray("RespawnPosition")]
position = Vector2(1701, 322)
script = ExtResource("3_gkceq")
UniqueId = "checkpoint_TestLevel_CE6F"
RespawnPosition = NodePath("RespawnPos")
PromptText = "Save"

[node name="CollisionShape2D" type="CollisionShape2D" parent="Node2D/Control/Checkpoint_0" unique_id=290430618]
shape = SubResource("CircleShape2D_8236u")

[node name="RespawnPos" type="Node2D" parent="Node2D/Control/Checkpoint_0" unique_id=756780886]

[node name="ColorRect" type="ColorRect" parent="Node2D/Control/Checkpoint_0" unique_id=840997435]
offset_left = -53.0
offset_top = -61.0
offset_right = 58.0
offset_bottom = 56.0
color = Color(1, 0.5281222, 1, 0.46300003)

[node name="CharacterController" type="Node" parent="Node2D/Control" unique_id=424296670 node_paths=PackedStringArray("_playerCharacter")]
script = ExtResource("1_o3cl4")
_playerCharacter = NodePath("PlayerCharacterBody2D")

[node name="PlayerCharacterBody2D" parent="Node2D/Control/CharacterController" unique_id=52823142 instance=ExtResource("2_jxtak")]
position = Vector2(610, 352)
_bodyFlipDelay = 0.3

[node name="CameraController" type="Node" parent="Node2D/Control" unique_id=745475055 node_paths=PackedStringArray("_target", "_camera")]
script = ExtResource("4_camera")
_target = NodePath("../CharacterController/PlayerCharacterBody2D")
_camera = NodePath("Camera2D")
_defaultSettings = ExtResource("7_am6fp")

[node name="Camera2D" type="Camera2D" parent="Node2D/Control/CameraController" unique_id=210406581]
ignore_rotation = false

[node name="CameraConstraint" type="Area2D" parent="Node2D/Control" unique_id=716379323]
position = Vector2(1802, 41)
script = ExtResource("8_rkygg")
LockAxisYWorld = true
_settingsResource = ExtResource("15_cam02")

[node name="CollisionShape2D" type="CollisionShape2D" parent="Node2D/Control/CameraConstraint" unique_id=894499173]
position = Vector2(-267, 81)
shape = SubResource("RectangleShape2D_yi6kr")

[node name="TargetDummy" parent="Node2D/Control" unique_id=749725729 instance=ExtResource("7_sx5r3")]
position = Vector2(1145, 317)

[node name="TileMapLayer1" type="TileMapLayer" parent="Node2D/Control" unique_id=77805476]
position = Vector2(-1, -1)
tile_map_data = PackedByteArray("AAAMAP3/AAACAAMAAFAMAP7/AAACAAMAAFAMAP//AAACAAMAAFAMAAAAAAACAAMAAFAMAAEAAAACAAMAAFAMAAIAAAACAAMAAFAMAAMAAAACAAMAAFAMAAQAAAACAAMAAFAMAAUAAAACAAMAAFAMAAYAAAACAAMAAFAMAAcAAAACAAMAAFAMAAgAAAACAAMAAFAMAAkAAAACAAMAAFAMAAoAAAACAAMAAFAMAAsAAAACAAMAAFAMAAwAAAACAAMAAFANAPr/AAAFAAUAAAANAAsAAAAMAAkAAAANAAwAAAAFAAUAAAAOAPr/AAAFAAUAAAAOAAsAAAAMAAkAAAAOAAwAAAAGAAUAAAAPAPr/AAAFAAUAAAAPAAwAAAAFAAUAAAAQAPr/AAAFAAUAAAAQAAkAAAACAAMAAAAQAAoAAAAAAAMAAAAQAAsAAAAAAAMAAAAQAAwAAAAGAAUAAAARAPr/AAAFAAUAAAARAAwAAAAFAAUAAAASAPr/AAAFAAUAAAASAAwAAAAGAAUAAAATAPr/AAAFAAUAAAATAAwAAAAFAAUAAAAUAPr/AAAFAAUAAAAUAAwAAAAGAAUAAAAVAPr/AAAFAAUAAAAVAAwAAAAFAAUAAAAWAPr/AAAFAAUAAAAWAAwAAAAGAAUAAAAXAPr/AAAFAAUAAAAXAAwAAAAFAAUAAAAYAPr/AAAFAAUAAAAYAAwAAAACAAMAAAAZAPr/AAAFAAUAAAAZAAwAAAACAAMAAAAaAPr/AAAFAAUAAAAaAAwAAAACAAMAAAAbAPr/AAAFAAUAAAAbAAwAAAACAAMAAAAcAPr/AAAFAAUAAAAcAAwAAAACAAMAAAAdAPr/AAAFAAUAAAAdAAwAAAACAAMAAAAeAPr/AAAFAAUAAAAeAAwAAAACAAMAAAAfAPr/AAAFAAUAAAAfAAwAAAACAAMAAAAgAPr/AAAFAAUAAAAgAAwAAAACAAMAAAAhAPr/AAAFAAUAAAAhAAwAAAACAAMAAAAiAPr/AAAFAAUAAAAiAAwAAAACAAMAAAAjAPr/AAAFAAUAAAAjAAwAAAACAAMAAAAkAPr/AAAFAAUAAAAkAAwAAAACAAMAAAAlAPr/AAAFAAUAAAAlAAwAAAACAAMAAAAmAPr/AAAFAAUAAAAmAAwAAAACAAMAAAAnAPr/AAAFAAUAAAAnAAwAAAACAAMAAAAoAPr/AAAFAAUAAAAoAAwAAAACAAMAAAApAPr/AAAFAAUAAAApAAwAAAACAAMAAAAqAAwAAAACAAMAAAArAAwAAAACAAMAAAAsAAwAAAACAAMAAAAtAAwAAAACAAMAAAAuAAwAAAACAAMAAAAvAAwAAAACAAMAAAAwAAwAAAACAAMAAAAPAAIAAAAHAAQAAAAQAAIAAAAIAAQAAAAqAPr/AAACAAMAAAAMAPz/AAACAAMAAFAxAAwAAAACAAMAAAAzAAwAAAACAAMAAAA0AAwAAAACAAMAAAA1AAwAAAACAAMAAAA2AAwAAAACAAMAAAA3AAwAAAACAAMAAAA4AAwAAAACAAMAAAA5AAwAAAACAAMAAAA6AAwAAAACAAMAAAA7AAwAAAACAAMAAAA8AAwAAAACAAMAAAA9AAwAAAACAAMAAAA+AAwAAAACAAMAAAA/AAwAAAACAAMAAABAAAwAAAACAAMAAABBAAwAAAACAAMAAABCAAwAAAACAAMAAABDAAwAAAACAAMAAABEAAwAAAACAAMAAABFAAwAAAACAAMAAABGAAwAAAACAAMAAABHAAwAAAACAAMAAABIAAwAAAACAAMAAABJAAwAAAACAAMAAABKAAwAAAACAAMAAABLAAwAAAACAAMAAABMAAwAAAACAAMAAABNAAwAAAACAAMAAABOAAwAAAACAAMAAABPAAwAAAACAAMAAABQAAwAAAACAAMAAABRAAwAAAACAAMAAABSAAwAAAACAAMAAABTAAwAAAACAAMAAABUAAwAAAACAAMAAABVAAwAAAACAAMAAABWAAwAAAACAAMAAABXAAwAAAACAAMAAABYAAwAAAACAAMAAABZAAwAAAACAAMAAABaAAwAAAACAAMAAABbAAwAAAACAAMAAABcAAwAAAACAAMAAABdAAwAAAACAAMAAABeAAwAAAACAAMAAABfAAwAAAACAAMAAABgAAwAAAACAAMAAABhAAwAAAACAAMAAABiAAwAAAACAAMAAABjAAwAAAACAAMAAGAyAAwAAAACAAMAAABUAPr/AAACAAMAAABVAPr/AAACAAMAAABWAPr/AAACAAMAAABXAPr/AAACAAMAAABYAPr/AAACAAMAAABZAPr/AAACAAMAAABaAPr/AAACAAMAAABbAPr/AAACAAMAAABcAPr/AAACAAMAAABdAPr/AAACAAMAAABeAPr/AAACAAMAAABfAPr/AAACAAMAAABgAPr/AAACAAMAAABhAPr/AAACAAMAAABiAPr/AAACAAMAAABjAPr/AAACAAMAAGArAPr/AAACAAMAAAAsAPr/AAACAAMAAAAtAPr/AAACAAMAAAAuAPr/AAACAAMAAAAvAPr/AAACAAMAAAAwAPr/AAACAAMAAAAxAPr/AAACAAMAAAAyAPr/AAACAAMAAAAzAPr/AAACAAMAAAA0APr/AAACAAMAAAA1APr/AAACAAMAAAA2APr/AAACAAMAAAA3APr/AAACAAMAAAA4APr/AAACAAMAAAA5APr/AAACAAMAAAA6APr/AAACAAMAAAA7APr/AAACAAMAAAA8APr/AAACAAMAAAA9APr/AAACAAMAAAA+APr/AAACAAMAAAA/APr/AAACAAMAAABAAPr/AAACAAMAAABBAPr/AAACAAMAAABCAPr/AAACAAMAAABDAPr/AAACAAMAAABEAPr/AAACAAMAAABFAPr/AAACAAMAAABGAPr/AAACAAMAAABHAPr/AAACAAMAAABIAPr/AAACAAMAAABJAPr/AAACAAMAAABKAPr/AAACAAMAAABLAPr/AAACAAMAAABMAPr/AAACAAMAAABNAPr/AAACAAMAAABOAPr/AAACAAMAAABPAPr/AAACAAMAAABQAPr/AAACAAMAAABRAPr/AAACAAMAAABSAPr/AAACAAMAAABTAPr/AAACAAMAAABjAPv/AAACAAMAAGBjAPz/AAACAAMAAGBjAP3/AAACAAMAAGBjAP7/AAACAAMAAGBjAP//AAACAAMAAGBjAAAAAAACAAMAAGBjAAEAAAACAAMAAGBjAAIAAAACAAMAAGBjAAMAAAACAAMAAGBjAAQAAAACAAMAAGBjAAUAAAACAAMAAGBjAAYAAAACAAMAAGBjAAcAAAACAAMAAGBjAAgAAAACAAMAAGBjAAkAAAACAAMAAGBjAAoAAAACAAMAAGBjAAsAAAACAAMAAGAaAAUAAAABAAMAAAAbAAUAAAACAAMAAAAcAAUAAAADAAMAAAAlAAUAAAABAAMAAAAmAAUAAAACAAMAAAAnAAUAAAADAAMAAAAMAPr/AAACAAMAAFAMAPv/AAACAAMAAFA=")
tile_set = ExtResource("4_sx5r3")

[node name="HUD" type="CanvasLayer" parent="Node2D" unique_id=1326346317 node_paths=PackedStringArray("_healthLabel", "_coinLabel", "_interactionPrompt", "_saveIndicator")]
script = ExtResource("10_7woyo")
_healthLabel = NodePath("DebugHealthLabel")
_coinLabel = NodePath("CoinLabel")
_interactionPrompt = NodePath("InteractionPrompt")
_saveIndicator = NodePath("SaveIndicator/DebugHealthLabel2")
_playerPath = NodePath("../Control/CharacterController/PlayerCharacterBody2D")

[node name="DebugHealthLabel" type="Label" parent="Node2D/HUD" unique_id=1647896880]
offset_left = 10.0
offset_top = 10.0
offset_right = 250.0
offset_bottom = 40.0
text = "Health: --"

[node name="InteractionPrompt" type="Label" parent="Node2D/HUD" unique_id=1923406194]
offset_left = 10.0
offset_top = 39.0
offset_right = 50.0
offset_bottom = 62.0
text = "Interact"

[node name="CoinLabel" type="Label" parent="Node2D/HUD" unique_id=1187492483]
offset_left = 12.0
offset_top = 69.0
offset_right = 252.0
offset_bottom = 99.0
text = "Coins: --"

[node name="Crosshair" parent="Node2D/HUD" unique_id=1337498472 instance=ExtResource("3_jxtak")]

[node name="SaveIndicator" type="Control" parent="Node2D/HUD" unique_id=1740820620]
layout_mode = 3
anchors_preset = 0
offset_right = 40.0
offset_bottom = 40.0
script = ExtResource("13_yce48")

[node name="DebugHealthLabel2" type="Label" parent="Node2D/HUD/SaveIndicator" unique_id=398737647]
layout_mode = 0
offset_left = 1692.0
offset_top = 984.0
offset_right = 1932.0
offset_bottom = 1014.0
text = "Saving...
"
script = ExtResource("13_yce48")
